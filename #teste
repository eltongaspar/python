#Test

# Exerciocio 72 
# Extrator de Textos 


# Realize o import das bibliotecas
import pytesseract
import numpy as np
import cv2 # OpenCV
#from google.colab.patches import cv2_imshow
import zipfile
import matplotlib.pyplot as plt

print (pytesseract)

# Conectando o Colab ao Google Drive
#rom google.colab import drive
#drive.mount('/content/gdrive')

# Realize o dowload da pasta Material_complementar_reconhecimento_texto.zip do Google Sala de Aula e transfira-a para o seu Google Drive
# Localize o caminho da pasta no menu Arquivos, no menu lateral esquerdo
#path = "/content/gdrive/MyDrive/Material_complementar_reconhecimento_texto.zip"
#zip_object = zipfile.ZipFile(file=path, mode="r")
#zip_object.extractall("./")

# Carregue a imagem teste01.jpg da pasta compartilhada no Google Sala de Aula para dentro do Colab, aba Arquivos.
img = cv2.imread('D:/Dados/Material_complementar_reconhecimento_texto/imagens/teste01.jpg')
#cv2_imshow(img) # BGR (RGB)
plt.imshow(img)
plt.axis('off')  # Desativar eixos para uma visualização mais limpa
plt.show()

# Transforme a imagem do padrão BGR para RGB
rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
#cv2_imshow(rgb)
plt.imshow(img)
plt.axis('off')  # Desativar eixos para uma visualização mais limpa
plt.show()

# Da imagem, a função irá extrair os caracteres encontrados.
texto = pytesseract.image_to_string(rgb)
#print(texto)